<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="{{url_for('static',filename='style.css')}}">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous">
    </script>
    <!-- <style>
    .navbar {
      width: 100%;
      margin: 0 auto;
      height: 80px;
    }
    </style> -->
</head>
<body>
    <div class="mainstr"> 
        <!-- nav bar -->
        {% include 'navbar.html' %}
        <!-- upload data -->
        <div class="container upload">
            <div class="h4 mt-2 mb-2">&nbsp; Upload your data</div>
            <div class="mt-2 mb-2">There are two ways to upload your data:</div>
            <div>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item"><a href="#" class="filebtn inset" id="filebtn">&nbsp;Upload a File&nbsp;</a></li>
                      <li class="breadcrumb-item active" aria-current="page"><a href="#" class="formbtn outset" id="formbtn">&nbsp;Fill in a form&nbsp;</a></li>
                    </ol>
                  </nav>
            </div>
            <div class="uploadFile" id="uploadFile">
                <div class="h4 mt-2 mb-2">&nbsp;Upload a file</div>
                <div>&nbsp; Only csv files with the same format and column names as the following file example are supported:</div>
                <table class="table">
                    <thead>
                        <tr><th>Running(whole number)</th><th>Cycling(whole number)</th>
                        <th>Swimming</th><th>Yoga</th><th>Weight(kg)</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>2000</td><td>2000</td><td>2000</td><td>2000</td><td>66.6</td></tr>
                        <tr><td>2000</td><td>2000</td><td>2000</td><td>2000</td><td>88.8</td></tr>                        
                    </tbody>
                </table>
                <!-- here the value of action is only a placeholder, it should be replaced with the url of the server that will process the data -->
                <form action="">
                    <label for="file"class="form-label h6">&nbsp; Upload your file</label> 
                    <input type="file" class="form-control mb-2" name="file" id="file" accept=".csv">
                    <div class="text-center"><button type="submit" class="btn btn-outline-primary mt-2 formSubmit">Submit</button></div>
                </form> 
            </div>
        
            <div class="uploadForm" id="uploadForm">
                <div class="h4 mt-2 mb-2">&nbsp; Fill in a form</div>
                <div>&nbsp; Alternatively, you can fill the form directly.</div>
                <form id="nextForm">
                    <select id="select" class="form-select mb-2 mt-2">
                        <option value="running" selected>Running</option>
                        <option value="cycling">Cycling</option>
                        <option value="swimming">Swimming</option>
                        <option value="yoga">Yoga</option>
                        <option value="weight">Weight</option>
                    </select>
                   
                    <div>Running:&nbsp;
                        <input type="number" placeholder="distance(km)">
                        <input type="number" placeholder="duration">&nbsp;<button type="button" class="delete btn btn-outline-primary">delete</button>
                    </div>
                    
                    <button type="submit" class="btn btn-outline-primary formSubmit" id="submit">Submit</button>
                </form>
                <!-- <form method="post"> 
                    <div id="form">
                        <div>
                        <input type="text" name="Running" placeholder="Running">
                        <input type="text" name="Cycling" placeholder="Cycling">
                        <input type="text" name="Swimming" placeholder="Swimming">
                        <input type="text" name="Yoga" placeholder="Yoga">
                        <input type="text" name="Weight" placeholder="Weight">
                        </div>  
                    </div>
                    <button type="button">add row</button>
                    <div  class="bt">
                        <button type="button" class="btn btn-outline-primary" id="add">Add a row</button>
                        <button type="submit" id="formSubmit" class="btn btn-primary mt-2">Submit</button>
                    </div>
                     <button type="submit" class="formSubmit">Submit</button> -->
              <!-- </form>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="#">首页</a></li>
                  <li class="breadcrumb-item"><a href="#">图书馆</a></li>
                  <li class="breadcrumb-item"><a href="#">科技书</a></li>
                  <li class="breadcrumb-item active" aria-current="page">机器学习</li>
                </ol>
              </nav> -->
               
            </div>
        </div>
    </div>
    <script src="{{url_for('static',filename='frontend.js')}}"></script>
    <script>
        let filebtn=document.querySelector('#filebtn');
        let formbtn=document.querySelector('#formbtn');
        let uploadForm=document.querySelector('#uploadForm');
        let uploadFile=document.querySelector('#uploadFile');
        filebtn.addEventListener('click',function(){
            filebtn.classList.remove('outset');
            filebtn.classList.add('inset');
            formbtn.classList.remove('inset');
            formbtn.classList.add('outset');
            uploadFile.style.display="block";
            uploadForm.style.display="none";            
        })
        formbtn.addEventListener('click',function(){
            filebtn.classList.remove('inset');
            filebtn.classList.add('outset');
            formbtn.classList.remove('outset');
            formbtn.classList.add('inset');
            uploadFile.style.display="none";
            uploadForm.style.display="block";
        })
        let select=document.querySelector('#select');
        let submit=document.querySelector('#submit');
        let nextForm=document.querySelector('#nextForm');
        let activities={running:
        `Running:&nbsp;
        <input type="number" placeholder="distance(km)">
        <input type="number" placeholder="duration">
        `, cycling:
        `Cycling:&nbsp
        <input type="number" placeholder="distance(km)">
        <input type="number" placeholder="duration">`
        , swimming:
        `Swimming:&nbsp;
        <input type="number" placeholder="distance(m)">
        <input type="number" placeholder="duration">`
        , yoga:"Yoga:&nbsp<input type='number' placeholder='duration'>"
        , weight:
        `Weight:&nbsp;
        <input type='number' placeholder='weight(kg)'>
        <input type='number' placeholder='set'>
        <input type='number' placeholder='reps'>
        `}
        select.addEventListener('change',function(){
            let activity=select.value;
                if(activities[activity]){
                let activityBlock=document.createElement('div');
                activityBlock.classList.add('my-1');
                activityBlock.innerHTML=activities[activity];
                activityBlock.innerHTML+= '&nbsp;<button type="button" class="delete btn btn-outline-primary">delete</button>'
                nextForm.insertBefore(activityBlock,submit);
            }
        })
        nextForm.addEventListener('click',function(event){
            if(event.target && event.target.classList.contains('delete')){
                event.target.closest('div').remove();
            }
        })
    </script>
</body>
</html>